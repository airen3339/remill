/* Copyright 2016 Peter Goodman (peter@trailofbits.com), all rights reserved. */

#ifndef REMILL_ARCH_X86_SEMANTICS_X87_H_
#define REMILL_ARCH_X86_SEMANTICS_X87_H_

#define PUSH_X87_STACK(x) \
  state.st.elems[7].val = state.st.elems[6].val ; \
  state.st.elems[6].val = state.st.elems[5].val ; \
  state.st.elems[5].val = state.st.elems[4].val ; \
  state.st.elems[4].val = state.st.elems[3].val ; \
  state.st.elems[3].val = state.st.elems[2].val ; \
  state.st.elems[2].val = state.st.elems[1].val ; \
  state.st.elems[1].val = state.st.elems[0].val ; \
  state.st.elems[0].val = x

#define POP_X87_STACK(x) ({\
  auto x = state.st.elems[0].val ; \
  state.st.elems[0].val = state.st.elems[1].val ; \
  state.st.elems[1].val = state.st.elems[2].val ; \
  state.st.elems[2].val = state.st.elems[3].val ; \
  state.st.elems[3].val = state.st.elems[4].val ; \
  state.st.elems[4].val = state.st.elems[5].val ; \
  state.st.elems[5].val = state.st.elems[6].val ; \
  state.st.elems[6].val = state.st.elems[7].val ; \
  state.st.elems[7].val = __remill_undefined_f64(); \
  x; })

DEF_ISEL_SEM(FILD_ST0_MEMmem16int, RF80W, M16 src1) {
  PUSH_X87_STACK(Float64(Signed(Read(src1))));
}

DEF_ISEL_SEM(FILD_ST0_MEMmem32int, RF80W, M32 src1) {
  PUSH_X87_STACK(Float64(Signed(Read(src1))));
}

DEF_ISEL_SEM(FILD_ST0_MEMm64int, RF80W, M64 src1) {
  PUSH_X87_STACK(Float64(Signed(Read(src1))));
}

DEF_ISEL_SEM(FLD_ST0_MEMmem32real, RF80W, MF32 src1) {
  PUSH_X87_STACK(Float64(Read(src1)));
}

DEF_ISEL_SEM(FLD_ST0_MEMm64real, RF80W, MF64 src1) {
  PUSH_X87_STACK(Float64(Read(src1)));
}

DEF_ISEL_SEM(FLD_ST0_MEMmem80real, RF80W, MF80 src1) {
  PUSH_X87_STACK(Read(src1));
}

DEF_ISEL_SEM(FLDLN2_ST0, RF80) {
  uint64_t ln_2 = 0x3fe62e42fefa39efULL;
  PUSH_X87_STACK(reinterpret_cast<float64_t &>(ln_2));
}

DEF_ISEL_SEM(FLD1_ST0, RF80) {
  PUSH_X87_STACK(1.0);  // +1.0.
}

DEF_ISEL_SEM(FLDZ_ST0, RF80) {
  PUSH_X87_STACK(0.0);  // +0.0.
}

DEF_ISEL_SEM(FLDLG2_ST0, RF80) {
  uint64_t log10_2 = 0x3fd34413509f79ffULL;
  PUSH_X87_STACK(reinterpret_cast<float64_t &>(log10_2));
}

DEF_ISEL_SEM(FLDL2T_ST0, RF80) {
  uint64_t log2_10 = 0x400a934f0979a371ULL;
  PUSH_X87_STACK(reinterpret_cast<float64_t &>(log2_10));
}

DEF_ISEL_SEM(FLDL2E_ST0, RF80) {
  uint64_t log2_e = 0x3ff71547652b82feULL;
  PUSH_X87_STACK(reinterpret_cast<float64_t &>(log2_e));
}

DEF_ISEL_SEM(FLDPI_ST0, RF80) {
  uint64_t pi = 0x400921fb54442d18ULL;
  PUSH_X87_STACK(reinterpret_cast<float64_t &>(pi));
}

DEF_ISEL_SEM(FCHS_ST0, RF80W dst, RF80 src) {
  Write(dst, FNeg(Read(src)));
}

#if 0
DEF_ISEL_SEM(FLDCW_MEMmem16, M16 src1) {
  state.fpu.cwd.flat = Read(src1);
}

namespace {

template <typename T>
DEF_SEM(FICOM_ST0_int, RF80 src1, T src2) {
  auto lhs = Read(src1);
  auto rhs = Float64(Signed(Read(src2)));
  uint16_t mask = 0;
  if (__builtin_isunordered(lhs, rhs)) {
    mask = 0x4500_u16;
  } else if (FCmpGt(lhs, rhs)) {
    mask = 0;
  } else if (FCmpLt(lhs, rhs)) {
    mask = 0x0100_u16;
  } else if (FCmpEq(lhs, rhs)) {
    mask = 0x4000_u16;
  } else {
    // TODO(pag): Hrmmm.
  }
  Write(state.fpu.swd.flat, UOr(mask, UAnd(state.fpu.swd.flat, 0xb8ff_u16)));
}

}  // namespace

DEF_ISEL(FICOM_ST0_MEMmem16int) = FICOM_ST0_int<M16>;
DEF_ISEL(FICOM_ST0_MEMmem32int) = FICOM_ST0_int<M32>;

DEF_ISEL_SEM(FICOMP_ST0_MEMmem16int, RF80 src1, M16 src2) {
  FICOM_ST0_int<M16>(state, memory, src1, src2);
  (void) POP_X87_STACK(_);
}

DEF_ISEL_SEM(FICOMP_ST0_MEMmem32int, RF80 src1, M32 src2) {
  FICOM_ST0_int<M32>(state, memory, src1, src2);
  (void) POP_X87_STACK(_);
}

DEF_ISEL_SEM(FUCOM_ST0_X87, RF80 src1, RF80 src2) {
  auto lhs = Read(src1);
  auto rhs = Read(src2);
  uint16_t mask = 0;
  if (__builtin_isunordered(lhs, rhs)) {
    mask = 0x4500_u16;
  } else if (FCmpGt(lhs, rhs)) {
    mask = 0;
  } else if (FCmpLt(lhs, rhs)) {
    mask = 0x0100_u16;
  } else if (FCmpEq(lhs, rhs)) {
    mask = 0x4000_u16;
  } else {
    // TODO(pag): Hrmmm.
  }

  // TODO(pag): Currently ignore stack underflow detection.
  Write(state.fpu.swd.flat, UOr(mask, UAnd(state.fpu.swd.flat, 0xbaff_u16)));
}

DEF_ISEL_SEM(FUCOMP_ST0_X87, RF80 src1, RF80 src2) {
  FUCOM_ST0_X87(state, memory, src1, src2);
  (void) POP_X87_STACK(_);
}

DEF_ISEL_SEM(FCOMPP_ST0_ST1, RF80 src1, RF80 src2) {
  FUCOM_ST0_X87(state, memory, src1, src2);
  (void) POP_X87_STACK(_);
  (void) POP_X87_STACK(_);
}

DEF_ISEL_SEM(FUCOMI_ST0_X87, RF80 src1, RF80 src2) {
  auto lhs = Read(src1);
  auto rhs = Read(src2);
  if (__builtin_isunordered(lhs, rhs)) {
    Write(FLAG_ZF, true);
    Write(FLAG_PF, true);
    Write(FLAG_CF, true);
  } else if (FCmpGt(lhs, rhs)) {
    Write(FLAG_ZF, false);
    Write(FLAG_PF, false);
    Write(FLAG_CF, false);
  } else if (FCmpLt(lhs, rhs)) {
    Write(FLAG_ZF, false);
    Write(FLAG_PF, false);
    Write(FLAG_CF, true);
  } else if (FCmpEq(lhs, rhs)) {
    Write(FLAG_ZF, true);
    Write(FLAG_PF, false);
    Write(FLAG_CF, false);
  } else {
    // TODO(pag): Hrmmm.
  }
}

DEF_ISEL_SEM(FUCOMIP_ST0_X87, RF80 src1, RF80 src2) {
  FUCOMI_ST0_X87(state, memory, src1, src2);
  (void) POP_X87_STACK(_);
}

// TODO(pag): This is wrong but hopefully right enough.
DEF_ISEL(FCOMI_ST0_X87) = FUCOMI_ST0_X87;
DEF_ISEL(FCOMIP_ST0_X87) = FUCOMIP_ST0_X87;

#endif

/*
1200 FLDENV FLDENV_MEMmem14 X87_ALU X87 X87 ATTRIBUTES: NOTSX X87_CONTROL
1201 FLDENV FLDENV_MEMmem28 X87_ALU X87 X87 ATTRIBUTES: NOTSX X87_CONTROL


88 FCOMI  X87_ALU X87 PPRO ATTRIBUTES: NOTSX
232 FCOMIP  X87_ALU X87 PPRO ATTRIBUTES: NOTSX
366 FCOMPP  X87_ALU X87 X87 ATTRIBUTES: NOTSX
394 FCOMP FCOMP_ST0_MEMmem32real X87_ALU X87 X87 ATTRIBUTES: NOTSX
395 FCOMP FCOMP_ST0_X87 X87_ALU X87 X87 ATTRIBUTES: NOTSX
396 FCOMP FCOMP_ST0_X87_DCD1 X87_ALU X87 X87 ATTRIBUTES: NOTSX
397 FCOMP FCOMP_ST0_X87_DED0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
398 FCOMP FCOMP_ST0_MEMm64real X87_ALU X87 X87 ATTRIBUTES: NOTSX
734 FCOM FCOM_ST0_MEMmem32real X87_ALU X87 X87 ATTRIBUTES: NOTSX
735 FCOM FCOM_ST0_MEMm64real X87_ALU X87 X87 ATTRIBUTES: NOTSX
736 FCOM FCOM_ST0_X87 X87_ALU X87 X87 ATTRIBUTES: NOTSX
737 FCOM FCOM_ST0_X87_DCD0 X87_ALU X87 X87 ATTRIBUTES: NOTSX


102 FNSAVE FNSAVE_MEMmem94 X87_ALU X87 X87 ATTRIBUTES: NOTSX X87_CONTROL X87_MMX_STATE_R X87_MMX_STATE_W X87_NOWAIT
103 FNSAVE FNSAVE_MEMmem108 X87_ALU X87 X87 ATTRIBUTES: NOTSX X87_CONTROL X87_MMX_STATE_R X87_MMX_STATE_W X87_NOWAIT
110 FLDL2T FLDL2T_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
111 FSUB FSUB_ST0_MEMmem32real X87_ALU X87 X87 ATTRIBUTES: NOTSX
112 FSUB FSUB_ST0_X87 X87_ALU X87 X87 ATTRIBUTES: NOTSX
113 FSUB FSUB_ST0_MEMm64real X87_ALU X87 X87 ATTRIBUTES: NOTSX
114 FSUB FSUB_X87_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
131 FLDL2E FLDL2E_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
194 FYL2X FYL2X_ST0_ST1 X87_ALU X87 X87 ATTRIBUTES: NOTSX
299 FADDP FADDP_X87_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
357 FXTRACT FXTRACT_ST0_ST1 X87_ALU X87 X87 ATTRIBUTES: NOTSX
362 FMUL FMUL_ST0_MEMmem32real X87_ALU X87 X87 ATTRIBUTES: NOTSX
363 FMUL FMUL_ST0_X87 X87_ALU X87 X87 ATTRIBUTES: NOTSX
364 FMUL FMUL_ST0_MEMm64real X87_ALU X87 X87 ATTRIBUTES: NOTSX
365 FMUL FMUL_X87_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX

401 FENI8087_NOP FENI8087_NOP X87_ALU X87 X87 ATTRIBUTES: NOP NOTSX
421 FISUBR FISUBR_ST0_MEMmem32int X87_ALU X87 X87 ATTRIBUTES: NOTSX
422 FISUBR FISUBR_ST0_MEMmem16int X87_ALU X87 X87 ATTRIBUTES: NOTSX
431 FISUB FISUB_ST0_MEMmem32int X87_ALU X87 X87 ATTRIBUTES: NOTSX
432 FISUB FISUB_ST0_MEMmem16int X87_ALU X87 X87 ATTRIBUTES: NOTSX
471 FSUBP FSUBP_X87_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
474 FSUBR FSUBR_ST0_MEMmem32real X87_ALU X87 X87 ATTRIBUTES: NOTSX
475 FSUBR FSUBR_ST0_X87 X87_ALU X87 X87 ATTRIBUTES: NOTSX
476 FSUBR FSUBR_ST0_MEMm64real X87_ALU X87 X87 ATTRIBUTES: NOTSX
477 FSUBR FSUBR_X87_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
515 FILD FILD_ST0_MEMmem32int X87_ALU X87 X87 ATTRIBUTES: NOTSX
516 FILD FILD_ST0_MEMmem16int X87_ALU X87 X87 ATTRIBUTES: NOTSX
517 FILD FILD_ST0_MEMm64int X87_ALU X87 X87 ATTRIBUTES: NOTSX
525 FADD FADD_ST0_MEMmem32real X87_ALU X87 X87 ATTRIBUTES: NOTSX
526 FADD FADD_ST0_X87 X87_ALU X87 X87 ATTRIBUTES: NOTSX
527 FADD FADD_ST0_MEMm64real X87_ALU X87 X87 ATTRIBUTES: NOTSX
528 FADD FADD_X87_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
529 FYL2XP1 FYL2XP1_ST0_ST1 X87_ALU X87 X87 ATTRIBUTES: NOTSX
538 FRNDINT FRNDINT_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
546 FSETPM287_NOP FSETPM287_NOP X87_ALU X87 X87 ATTRIBUTES: NOP NOTSX
595 FNCLEX FNCLEX X87_ALU X87 X87 ATTRIBUTES: NOTSX X87_CONTROL X87_NOWAIT
613 FPTAN FPTAN_ST0_ST1 X87_ALU X87 X87 ATTRIBUTES: NOTSX
614 FIDIV FIDIV_ST0_MEMmem32int X87_ALU X87 X87 ATTRIBUTES: NOTSX
615 FIDIV FIDIV_ST0_MEMmem16int X87_ALU X87 X87 ATTRIBUTES: NOTSX
699 FCOS FCOS_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
718 FSCALE FSCALE_ST0_ST1 X87_ALU X87 X87 ATTRIBUTES: NOTSX

747 FXAM FXAM_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
761 FFREE FFREE_X87 X87_ALU X87 X87 ATTRIBUTES: NOTSX X87_CONTROL
762 FFREEP FFREEP_X87 X87_ALU X87 X87 ATTRIBUTES: NOTSX X87_CONTROL
769 FPREM1 FPREM1_ST0_ST1 X87_ALU X87 X87 ATTRIBUTES: NOTSX
802 FIMUL FIMUL_ST0_MEMmem32int X87_ALU X87 X87 ATTRIBUTES: NOTSX
803 FIMUL FIMUL_ST0_MEMmem16int X87_ALU X87 X87 ATTRIBUTES: NOTSX
808 FSTP FSTP_MEMmem32real_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
809 FSTP FSTP_MEMmem80real_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
810 FSTP FSTP_MEMm64real_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
811 FSTP FSTP_X87_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
812 FSTP FSTP_X87_ST0_DFD0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
813 FSTP FSTP_X87_ST0_DFD1 X87_ALU X87 X87 ATTRIBUTES: NOTSX
817 FNINIT FNINIT X87_ALU X87 X87 ATTRIBUTES: NOTSX X87_CONTROL X87_MMX_STATE_W X87_NOWAIT
828 FIADD FIADD_ST0_MEMmem32int X87_ALU X87 X87 ATTRIBUTES: NOTSX
829 FIADD FIADD_ST0_MEMmem16int X87_ALU X87 X87 ATTRIBUTES: NOTSX
884 FNOP FNOP X87_ALU X87 X87 ATTRIBUTES: NOP NOTSX X87_CONTROL
935 FLDPI FLDPI_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
942 FNSTSW FNSTSW_MEMmem16 X87_ALU X87 X87 ATTRIBUTES: NOTSX X87_CONTROL X87_NOWAIT
943 FNSTSW FNSTSW_AX X87_ALU X87 X87 ATTRIBUTES: NOTSX X87_CONTROL X87_NOWAIT
1040 FSTPNCE FSTPNCE_X87_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1041 FWAIT FWAIT X87_ALU X87 X87 ATTRIBUTES: NOTSX X87_CONTROL
1085 FISTTP FISTTP_MEMmem32int_ST0 X87_ALU SSE3 SSE3 ATTRIBUTES: NOTSX
1086 FISTTP FISTTP_MEMm64int_ST0 X87_ALU SSE3 SSE3 ATTRIBUTES: NOTSX UNALIGNED
1087 FISTTP FISTTP_MEMmem16int_ST0 X87_ALU SSE3 SSE3 ATTRIBUTES: NOTSX
1110 F2XM1 F2XM1_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1115 FPREM FPREM_ST0_ST1 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1148 FINCSTP FINCSTP X87_ALU X87 X87 ATTRIBUTES: NOTSX X87_CONTROL
1172 FTST FTST_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1200 FLDENV FLDENV_MEMmem14 X87_ALU X87 X87 ATTRIBUTES: NOTSX X87_CONTROL
1201 FLDENV FLDENV_MEMmem28 X87_ALU X87 X87 ATTRIBUTES: NOTSX X87_CONTROL
1239 FPATAN FPATAN_ST0_ST1 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1242 FST FST_MEMmem32real_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1243 FST FST_MEMm64real_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1244 FST FST_X87_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1245 FIST FIST_MEMmem32int_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1246 FIST FIST_MEMmem16int_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1261 FDIVRP FDIVRP_X87_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1262 FBLD FBLD_ST0_MEMmem80dec X87_ALU X87 X87 ATTRIBUTES: NOTSX
1275 FIDIVR FIDIVR_ST0_MEMmem32int X87_ALU X87 X87 ATTRIBUTES: NOTSX
1276 FIDIVR FIDIVR_ST0_MEMmem16int X87_ALU X87 X87 ATTRIBUTES: NOTSX
1286 FDISI8087_NOP FDISI8087_NOP X87_ALU X87 X87 ATTRIBUTES: NOP NOTSX
1375 FSUBRP FSUBRP_X87_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1377 FABS FABS_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1398 FSIN FSIN_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1404 FLDCW FLDCW_MEMmem16 X87_ALU X87 X87 ATTRIBUTES: NOTSX X87_CONTROL
1415 FMULP FMULP_X87_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1418 FSQRT FSQRT_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1496 FDIVP FDIVP_X87_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1501 FDIVR FDIVR_ST0_MEMmem32real X87_ALU X87 X87 ATTRIBUTES: NOTSX
1502 FDIVR FDIVR_ST0_X87 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1503 FDIVR FDIVR_ST0_MEMm64real X87_ALU X87 X87 ATTRIBUTES: NOTSX
1504 FDIVR FDIVR_X87_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1505 FDIV FDIV_ST0_MEMmem32real X87_ALU X87 X87 ATTRIBUTES: NOTSX
1506 FDIV FDIV_ST0_X87 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1507 FDIV FDIV_ST0_MEMm64real X87_ALU X87 X87 ATTRIBUTES: NOTSX
1508 FDIV FDIV_X87_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1593 FRSTOR FRSTOR_MEMmem94 X87_ALU X87 X87 ATTRIBUTES: NOTSX X87_CONTROL X87_MMX_STATE_W
1594 FRSTOR FRSTOR_MEMmem108 X87_ALU X87 X87 ATTRIBUTES: NOTSX X87_CONTROL X87_MMX_STATE_W
1599 FLDLN2 FLDLN2_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1606 FXCH FXCH_ST0_X87 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1607 FXCH FXCH_ST0_X87_DFC1 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1608 FXCH FXCH_ST0_X87_DDC1 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1613 FLD FLD_ST0_MEMmem32real X87_ALU X87 X87 ATTRIBUTES: NOTSX
1614 FLD FLD_ST0_X87 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1615 FLD FLD_ST0_MEMmem80real X87_ALU X87 X87 ATTRIBUTES: NOTSX
1616 FLD FLD_ST0_MEMm64real X87_ALU X87 X87 ATTRIBUTES: NOTSX
1684 FDECSTP FDECSTP X87_ALU X87 X87 ATTRIBUTES: NOTSX X87_CONTROL
1693 FLDLG2 FLDLG2_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1697 FLDZ FLDZ_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1735 FBSTP FBSTP_MEMmem80dec_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1743 FUCOMPP FUCOMPP_ST0_ST1 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1762 FNSTENV FNSTENV_MEMmem14 X87_ALU X87 X87 ATTRIBUTES: NOTSX X87_CONTROL X87_NOWAIT
1763 FNSTENV FNSTENV_MEMmem28 X87_ALU X87 X87 ATTRIBUTES: NOTSX X87_CONTROL X87_NOWAIT
1830 FLD1 FLD1_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1860 FSINCOS FSINCOS_ST0_ST1 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1891 FNSTCW FNSTCW_MEMmem16 X87_ALU X87 X87 ATTRIBUTES: NOTSX X87_CONTROL X87_NOWAIT
1900 FISTP FISTP_MEMmem32int_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1901 FISTP FISTP_MEMmem16int_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
1902 FISTP FISTP_MEMm64int_ST0 X87_ALU X87 X87 ATTRIBUTES: NOTSX
 */

#endif  // REMILL_ARCH_X86_SEMANTICS_X87_H_
